{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport Modal from \"../components/modal/Modal\";\nimport apiFetch from '../components/api';\nimport './list.scss';\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst List = async () => {\n  _s();\n\n  // const numPage = 5;\n  const [numPage, setNumPage] = useState(1); // const [musical, setMusical] = useState([]);\n\n  const [musicalList, setMusicalList] = useState([]); // const [modalList, setModalList] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n\n  const getData = async () => {\n    try {\n      const response = await apiFetch({\n        url: '/musicalClasses',\n        params: {\n          '_limit': 5,\n          '_page': numPage\n        }\n      });\n      console.log(response);\n    } catch (error) {}\n  }; // setMusicalList(state => state.concat(response.data))\n\n\n  console.log(musicalList);\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  const showMore = () => {\n    setNumPage(numPage + 1);\n  };\n\n  useEffect(() => {\n    getData();\n  }, [getData]); // if (loading) return <div className=\"cont_loading\"><span className=\"ico_loading\"></span><span className=\"txt_loading\">loading</span></div>;\n  // if (error) return <div className=\"cont_error\"><span className=\"txt_error\">에러가 발생했습니다</span></div>;\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n};\n\n_s(List, \"MbuI5CF2OuQ0umOUjMfi/RMsnEs=\");\n\n_c = List;\nexport default List;\n\nvar _c;\n\n$RefreshReg$(_c, \"List\");","map":{"version":3,"sources":["/Users/dea/Documents/workspace_dea/00.practice-musical-list/src/pages/list/List.jsx"],"names":["useState","useEffect","Modal","apiFetch","List","numPage","setNumPage","musicalList","setMusicalList","loading","setLoading","error","setError","activeIndex","setActiveIndex","showModal","setShowModal","getData","response","url","params","console","log","closeModal","showMore"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,2BAAlB;AACA,OAAOC,QAAP,MAAqB,mBAArB;AACA,OAAO,aAAP;;;;AAEA,MAAMC,IAAI,GAAG,YAAW;AAAA;;AACtB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,CAAD,CAAtC,CAFsB,CAGtB;;AACA,QAAM,CAACO,WAAD,EAAcC,cAAd,IAAgCR,QAAQ,CAAC,EAAD,CAA9C,CAJsB,CAKtB;;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM,CAACa,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,CAAD,CAA9C;AACA,QAAM,CAACe,SAAD,EAAYC,YAAZ,IAA4BhB,QAAQ,CAAC,KAAD,CAA1C;;AAEA,QAAMiB,OAAO,GAAG,YAAY;AAC1B,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMf,QAAQ,CAAC;AAC9BgB,QAAAA,GAAG,EAAE,iBADyB;AAE9BC,QAAAA,MAAM,EAAE;AACR,oBAAU,CADF;AAER,mBAASf;AAFD;AAFsB,OAAD,CAA/B;AAOAgB,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACD,KATD,CASE,OAAMP,KAAN,EAAa,CACd;AACF,GAZD,CAXsB,CA0BtB;;;AACAU,EAAAA,OAAO,CAACC,GAAR,CAAYf,WAAZ;;AAEA,QAAMgB,UAAU,GAAG,MAAM;AACvBP,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GAFD;;AAIA,QAAMQ,QAAQ,GAAG,MAAM;AACrBlB,IAAAA,UAAU,CAACD,OAAO,GAAG,CAAX,CAAV;AACD,GAFD;;AAIAJ,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,OAAO;AACR,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT,CArCsB,CAyCtB;AACA;;AAGA,sBACE,qCADF;AAkDD,CA/FD;;GAAMb,I;;KAAAA,I;AAiGN,eAAeA,IAAf","sourcesContent":["import { useState, useEffect } from \"react\";\nimport Modal from \"../components/modal/Modal\";\nimport apiFetch from '../components/api';\nimport './list.scss';\n\nconst List = async() => {\n  // const numPage = 5;\n  const [numPage, setNumPage] = useState(1);\n  // const [musical, setMusical] = useState([]);\n  const [musicalList, setMusicalList] = useState([]);\n  // const [modalList, setModalList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [activeIndex, setActiveIndex] = useState(0);\n  const [showModal, setShowModal] = useState(false);\n\n  const getData = async () => {\n    try {\n      const response = await apiFetch({\n        url: '/musicalClasses',\n        params: {\n        '_limit': 5,\n        '_page': numPage\n      }\n      })\n      console.log(response);\n    } catch(error) {\n    }\n  }\n\n  \n  // setMusicalList(state => state.concat(response.data))\n  console.log(musicalList)\n\n  const closeModal = () => {\n    setShowModal(false);\n  }\n\n  const showMore = () => {\n    setNumPage(numPage + 1);\n  }\n\n  useEffect(() => {\n    getData()\n  }, [getData])\n\n  // if (loading) return <div className=\"cont_loading\"><span className=\"ico_loading\"></span><span className=\"txt_loading\">loading</span></div>;\n  // if (error) return <div className=\"cont_error\"><span className=\"txt_error\">에러가 발생했습니다</span></div>;\n\n\n  return (\n    <>\n    {/* <div className=\"cont_musical\">\n      {musicalList.length > 0 ?\n        <>\n        <ul className=\"list_musical\">\n          {musicalList.map(item => (\n          <li key={item.musicalClassId} className=\"item_musical\">\n            <button type=\"button\" className=\"btn_musical\" onClick={()=> { setShowModal(true);setActiveIndex(item.musicalClassId) }}>\n              <div className=\"musical_thumb\">\n                <span className=\"thumb_img\" style={{backgroundImage:\"url(\"+item.image+\")\"}}></span>\n              </div>\n  \n              <div className=\"musical_info\">\n                <div className=\"musical_title\">\n                  <strong className=\"txt_title\">{item.musicalClassName}</strong>\n                  <div className=\"box_tag\">\n                    {item.musicalTag.length !== 0 ?\n                      item.musicalTag.map((tag, index) => (\n                      <span key={index} className=\"tag_g\">{tag}</span>\n                      ))\n                      : null\n                    }\n                  </div>\n                </div>\n                <div className=\"musical_price\">\n                  <em className=\"num_price\">{item.price}원</em>\n                </div>\n                <div className=\"musical_desc\">\n                  <span className=\"txt_g\">{item.period}</span>\n                  <span className=\"txt_g\">{item.runningTime}분</span>\n                  <span className=\"txt_g txt_place\">{item.musicalConcertHall}</span>\n                </div>\n              </div>\n            </button>\n          </li>\n          ))}\n        </ul>\n        {musicalList.legth > 0 &&\n          <button type=\"button\" className=\"btn_more\" onClick={showMore}>더보기</button>\n        }\n        </>\n        : <div className=\"area_error\">데이터를 불러올 수 없습니다.</div>\n      }\n    </div>\n    {showModal &&\n      <Modal activeData={activeIndex} closeModal={closeModal} />\n    } */}\n    </>\n  )\n}\n\nexport default List;"]},"metadata":{},"sourceType":"module"}